create database web2db;
use  web2db;


CREATE TABLE USUARIO(
	IDUSUARIO INTEGER auto_increment NOT NULL PRIMARY KEY,
	NOME VARCHAR(25) NOT NULL,
	SOBRENOME VARCHAR(50) NOT NULL,
	ENDERECO VARCHAR(255) NOT NULL,
	SENHA VARCHAR(12) NOT NULL,
	LOGIN VARCHAR(20) NOT NULL,
	DATANASCIMENTO VARCHAR(12) NOT NULL,
	ISADM BOOLEAN NOT NULL);



CREATE TABLE CARTAODECREDITO(
	NUMEROCARTAO VARCHAR(19) PRIMARY KEY NOT NULL,
	DATAVENCIMENTO VARCHAR(12) NOT NULL,
	USUARIO_IDUSUARIO INTEGER NOT NULL,
	FOREIGN KEY(USUARIO_IDUSUARIO) REFERENCES USUARIO(IDUSUARIO));
	
	
	-- REALIZAR ADAPTAÇÃO PARA MYSQL
	
	CREATE TABLE  voo (
  idvoo INT NOT NULL GENERATED BY DEFAULT AS IDENTITY(START WITH 0),
  ida VARCHAR(12) NOT NULL,
  volta VARCHAR(12) NOT NULL,
 origem VARCHAR(100) NOT NULL,
  destino VARCHAR(100) NOT NULL,
  confirmacao BOOLEAN NOT NULL,
  assento VARCHAR(3) NOT NULL,
  PRIMARY KEY (idvoo));



CREATE TABLE  compraVoo (
  idcompraVoo INT NOT NULL GENERATED BY DEFAULT AS IDENTITY(START WITH 0),
  USUARIO_IDUSUARIO INT NOT NULL,
  voo_idvoo INT NOT NULL,
    FOREIGN KEY (USUARIO_IDUSUARIO) REFERENCES USUARIO(IDUSUARIO),
    FOREIGN KEY (voo_idvoo)REFERENCES VOO(IDVOO),
	preco VARCHAR(45) NOT NULL);

	